FROM golang:1.22

WORKDIR /webapp-consumer

COPY . .

RUN go mod download && go build -o ./build/cve-consumer ./app/cve-consumer && go build -o ./build/readiness ./app/readiness && go build -o ./build/liveness ./app/liveness

ENTRYPOINT [ "./build/cve-consumer" ]
